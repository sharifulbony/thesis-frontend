<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Change Password</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <ion-card > -->
    <!-- (ngSubmit)="changePass()" -->
    <form [formGroup]="changePassForm" >
<ion-grid >
  <ion-card style="padding: 2mm;">
  <ion-label>Current Password</ion-label>
  <ion-row>
    <ion-col col-12 > 
      <ion-input type="password" formControlName="currentPassword" [(ngModel)]="changePassword.currentPassword" placeholder="Type current password"></ion-input>
    </ion-col>
  </ion-row>
  <ion-item no-lines *ngIf="(changePassForm.get('currentPassword').hasError('required') ||
   changePassForm.get('currentPassword').hasError('minlength') ||
   changePassForm.get('currentPassword').hasError('maxlength')) && changePassForm.get('currentPassword').touched">         
    <div class="error" *ngIf="changePassForm.get('currentPassword').hasError('required')">
      Current password is required
    </div>
    <br>
    <div class="error" *ngIf="changePassForm.get('currentPassword').hasError('minlength')">
      Password must be at least 8 characters long.
    </div>
    <br>
    <div class="error" *ngIf="changePassForm.get('currentPassword').hasError('maxlength')">
      Password can be at most 30 characters long.
    </div>
  </ion-item>

  <ion-label>New Password</ion-label>
  <ion-row>
    <ion-col col-12>
      <ion-input type="password" formControlName="newPassword" [(ngModel)]="changePassword.newPassword" placeholder="Type new password" ></ion-input>
    </ion-col>
  </ion-row>
  <ion-item no-lines *ngIf="(changePassForm.get('newPassword').hasError('required')  ||
  changePassForm.get('newPassword').hasError('minlength') ||
  changePassForm.get('newPassword').hasError('maxlength')) && changePassForm.get('newPassword').touched">         
    <div class="error" *ngIf="changePassForm.get('newPassword').hasError('required')">
      New  password is required
    </div>
    <br>
    <div class="error" *ngIf="changePassForm.get('newPassword').hasError('minlength')">
      Password must be at least 8 characters long.
    </div>
    <br>
    <div class="error" *ngIf="changePassForm.get('newPassword').hasError('maxlength')">
      Password can be at most 30 characters long.
    </div>
  </ion-item>

  <ion-label>Confirm Password</ion-label>
  <ion-row>
    <ion-col col-12>
      <ion-input type="password" formControlName="confirmPassword" [(ngModel)]="changePassword.confirmPassword" placeholder="Type confirm password" ></ion-input>
    </ion-col>
  </ion-row>
  <ion-item no-lines *ngIf="(changePassForm.get('confirmPassword').hasError('required') ||
  changePassForm.get('confirmPassword').hasError('minlength') ||
  changePassForm.get('confirmPassword').hasError('maxlength')||
  changePassForm.hasError('passwordNotMatch')) && changePassForm.get('confirmPassword').touched">         
    <div class="error" *ngIf="changePassForm.get('confirmPassword').hasError('required')">
      Confirm password is required.
    </div>
    <br>
    <div class="error" *ngIf="changePassForm.get('confirmPassword').hasError('minlength')">
      Password must be at least 8 characters long.
    </div>
    <br>
    <div class="error" *ngIf="changePassForm.get('confirmPassword').hasError('maxlength')">
      Password can be at most 30 characters long.
    </div>
    <br>
    <div class="error" *ngIf="changePassForm.hasError('passwordNotMatch')">
      Passwords don't match.
    </div>
  </ion-item>
  <ion-button expand="block" [disabled]="!changePassForm.valid" (click)="presentAlertConfirm()">
    Change Password
  </ion-button>
</ion-card>
</ion-grid>


</form>

</ion-content>

